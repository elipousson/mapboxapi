<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate isochrones using the Mapbox Navigation Service Isochrone API — mb_isochrone • mapboxapi</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate isochrones using the Mapbox Navigation Service Isochrone API — mb_isochrone"><meta name="description" content="This function returns isochrones from the Mapbox Navigation Service
Isochrone API. Isochrones are
shapes that represent the reachable area around one or more locations within
a given travel time. Isochrones can be computed for driving, walking, or
cycling routing profiles, and can optionally be set to return distances
rather than times. mb_isochrone() returns isochrones as simple
features objects in the WGS 1984 geographic coordinate system."><meta property="og:description" content="This function returns isochrones from the Mapbox Navigation Service
Isochrone API. Isochrones are
shapes that represent the reachable area around one or more locations within
a given travel time. Isochrones can be computed for driving, walking, or
cycling routing profiles, and can optionally be set to return distances
rather than times. mb_isochrone() returns isochrones as simple
features objects in the WGS 1984 geographic coordinate system."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mapboxapi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/creating-tiles.html">Creating and uploading Mapbox vector tilesets</a></li>
    <li><a class="dropdown-item" href="../articles/dynamic-maps.html">Dynamic web maps with Mapbox Tiling Service and mapgl</a></li>
    <li><a class="dropdown-item" href="../articles/geocoding.html">Geocoding with Mapbox in mapboxapi</a></li>
    <li><a class="dropdown-item" href="../articles/mapping.html">Mapping with mapboxapi</a></li>
    <li><a class="dropdown-item" href="../articles/navigation.html">Using Mapbox navigation services with mapboxapi</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/walkerke/mapboxapi" aria-label="GitHub"><span class="fa fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate isochrones using the Mapbox Navigation Service Isochrone API</h1>
      <small class="dont-index">Source: <a href="https://github.com/walkerke/mapboxapi/blob/HEAD/R/navigation.R" class="external-link"><code>R/navigation.R</code></a></small>
      <div class="d-none name"><code>mb_isochrone.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function returns isochrones from the Mapbox Navigation Service
<a href="https://docs.mapbox.com/api/navigation/isochrone/" class="external-link">Isochrone API</a>. Isochrones are
shapes that represent the reachable area around one or more locations within
a given travel time. Isochrones can be computed for driving, walking, or
cycling routing profiles, and can optionally be set to return distances
rather than times. <code>mb_isochrone()</code> returns isochrones as simple
features objects in the WGS 1984 geographic coordinate system.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mb_isochrone</span><span class="op">(</span></span>
<span>  <span class="va">location</span>,</span>
<span>  profile <span class="op">=</span> <span class="st">"driving"</span>,</span>
<span>  time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">15</span><span class="op">)</span>,</span>
<span>  distance <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  depart_at <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  access_token <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  denoise <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  generalize <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  geometry <span class="op">=</span> <span class="st">"polygon"</span>,</span>
<span>  output <span class="op">=</span> <span class="st">"sf"</span>,</span>
<span>  rate_limit <span class="op">=</span> <span class="fl">300</span>,</span>
<span>  keep_color_cols <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  id_column <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-location">location<a class="anchor" aria-label="anchor" href="#arg-location"></a></dt>
<dd><p>A vector of form <code>c(longitude, latitude)</code>, an address that can be geocoded as a character string, or an <code>sf</code> object.</p></dd>


<dt id="arg-profile">profile<a class="anchor" aria-label="anchor" href="#arg-profile"></a></dt>
<dd><p>One of "driving", "walking", "cycling", or "driving-traffic".
"driving" is the default.</p></dd>


<dt id="arg-time">time<a class="anchor" aria-label="anchor" href="#arg-time"></a></dt>
<dd><p>A vector of isochrone contours, specified in minutes. Defaults to <code>c(5, 10, 15)</code>. The maximum time supported is 60 minutes. Reflects traffic conditions for the date and time at which the function is called. If reproducibility of isochrones is required, supply an argument to the <code>depart_at</code> parameter.</p></dd>


<dt id="arg-distance">distance<a class="anchor" aria-label="anchor" href="#arg-distance"></a></dt>
<dd><p>A vector of distance contours specified in meters. If supplied, will supercede
any call to the <code>time</code> parameter as time and distance cannot be used
simultaneously. Defaults to <code>NULL</code>.</p></dd>


<dt id="arg-depart-at">depart_at<a class="anchor" aria-label="anchor" href="#arg-depart-at"></a></dt>
<dd><p>(optional) For the "driving" or "driving-traffic" profiles, the departure date and time to reflect historical traffic patterns. If "driving-traffic" is used, live traffic will be mixed in with historical traffic for dates/times near to the current time. Should be specified as an ISO 8601 date/time, e.g. <code>"2022-03-31T09:00"</code>. If <code>NULL</code> (the default), isochrones will reflect traffic conditions at the date and time when the function is called.</p></dd>


<dt id="arg-access-token">access_token<a class="anchor" aria-label="anchor" href="#arg-access-token"></a></dt>
<dd><p>A valid Mapbox access token.</p></dd>


<dt id="arg-denoise">denoise<a class="anchor" aria-label="anchor" href="#arg-denoise"></a></dt>
<dd><p>A floating-point value between 0 and 1 used to remove smaller contours. 1 is the default and returns only the largest contour for an input time.</p></dd>


<dt id="arg-generalize">generalize<a class="anchor" aria-label="anchor" href="#arg-generalize"></a></dt>
<dd><p>A value expressed in meters of the tolerance for the Douglas-Peucker generalization algorithm used to simplify the isochrone shapes. If <code>NULL</code> (the default), the Mapbox API will choose an optimal value for you.</p></dd>


<dt id="arg-geometry">geometry<a class="anchor" aria-label="anchor" href="#arg-geometry"></a></dt>
<dd><p>one of <code>"polygon"</code> (the default), which returns isochrones as polygons, or alternatively <code>"linestring"</code>, which returns isochrones as linestrings.</p></dd>


<dt id="arg-output">output<a class="anchor" aria-label="anchor" href="#arg-output"></a></dt>
<dd><p>one of <code>"sf"</code> (the default), which returns an <code>sf</code> object representing the isochrone(s), or <code>"list"</code>, which returns the GeoJSON response from the API as an R list.</p></dd>


<dt id="arg-rate-limit">rate_limit<a class="anchor" aria-label="anchor" href="#arg-rate-limit"></a></dt>
<dd><p>The rate limit for the API, expressed in maximum number of calls per minute. For most users this will be 300 though this parameter can be modified based on your Mapbox plan. Used when <code>location</code> is <code>"sf"</code>.</p></dd>


<dt id="arg-keep-color-cols">keep_color_cols<a class="anchor" aria-label="anchor" href="#arg-keep-color-cols"></a></dt>
<dd><p>Whether or not to retain the color columns that the Mapbox API generates by default (applies when the output is an <code>sf</code> object). Defaults to <code>FALSE</code>.</p></dd>


<dt id="arg-id-column">id_column<a class="anchor" aria-label="anchor" href="#arg-id-column"></a></dt>
<dd><p>If the input dataset is an <code>sf</code> object, the column in your dataset you want to use as the isochrone ID. Otherwise, isochrone IDs will be identified by row index or position.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An <code>sf</code> object representing the isochrone(s) around the location(s).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/walkerke/mapboxapi" class="external-link">mapboxapi</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://symbolixau.github.io/mapdeck/articles/mapdeck.html" class="external-link">mapdeck</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">isochrones</span> <span class="op">&lt;-</span> <span class="fu">mb_isochrone</span><span class="op">(</span><span class="st">"The Kremlin, Moscow Russia"</span>,</span></span>
<span class="r-in"><span>  time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">8</span>, <span class="fl">12</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  profile <span class="op">=</span> <span class="st">"walking"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/mapdeck/man/mapdeck.html" class="external-link">mapdeck</a></span><span class="op">(</span>style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/mapdeck/man/mapdeck_style.html" class="external-link">mapdeck_style</a></span><span class="op">(</span><span class="st">"light"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/mapdeck/man/add_polygon.html" class="external-link">add_polygon</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    data <span class="op">=</span> <span class="va">isochrones</span>,</span></span>
<span class="r-in"><span>    fill_colour <span class="op">=</span> <span class="st">"time"</span>,</span></span>
<span class="r-in"><span>    fill_opacity <span class="op">=</span> <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>    legend <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://walker-data.com" class="external-link">Kyle Walker</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.9000.</p>
</div>

    </footer></div>





  </body></html>

