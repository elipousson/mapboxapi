<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Return a static Mapbox map from a specified style — static_mapbox • mapboxapi</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Return a static Mapbox map from a specified style — static_mapbox"><meta name="description" content='This function uses the Mapbox Static Maps API to return a pointer to an
"magick-image" class image or a httr::response object from the static map
image URL.'><meta property="og:description" content='This function uses the Mapbox Static Maps API to return a pointer to an
"magick-image" class image or a httr::response object from the static map
image URL.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mapboxapi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/creating-tiles.html">Creating and uploading Mapbox vector tilesets</a></li>
    <li><a class="dropdown-item" href="../articles/dynamic-maps.html">Dynamic web maps with Mapbox Tiling Service and mapgl</a></li>
    <li><a class="dropdown-item" href="../articles/geocoding.html">Geocoding with Mapbox in mapboxapi</a></li>
    <li><a class="dropdown-item" href="../articles/mapping.html">Mapping with mapboxapi</a></li>
    <li><a class="dropdown-item" href="../articles/navigation.html">Using Mapbox navigation services with mapboxapi</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/walkerke/mapboxapi" aria-label="GitHub"><span class="fa fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Return a static Mapbox map from a specified style</h1>
      <small class="dont-index">Source: <a href="https://github.com/walkerke/mapboxapi/blob/HEAD/R/maps.R" class="external-link"><code>R/maps.R</code></a></small>
      <div class="d-none name"><code>static_mapbox.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function uses the <a href="https://www.mapbox.com/static-maps" class="external-link">Mapbox Static Maps API</a> to return a pointer to an
<code>"magick-image"</code> class image or a <a href="https://httr.r-lib.org/reference/response.html" class="external-link">httr::response</a> object from the static map
image URL.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">static_mapbox</span><span class="op">(</span></span>
<span>  location <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  buffer_dist <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"m"</span>,</span>
<span>  <span class="va">style_id</span>,</span>
<span>  <span class="va">username</span>,</span>
<span>  style_url <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  overlay_sf <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  overlay_style <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  overlay_markers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  longitude <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  latitude <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  zoom <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  width <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  height <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bearing <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pitch <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  scale <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  scaling_factor <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1x"</span>, <span class="st">"2x"</span><span class="op">)</span>,</span>
<span>  attribution <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  logo <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  before_layer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  access_token <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  image <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  strip <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-location">location<a class="anchor" aria-label="anchor" href="#arg-location"></a></dt>
<dd><p>An input location for which you would like to request tiles.
Can be a length-4 vector representing a bounding box, or an <code>sf</code> object.
If an input <code>sf</code> object is supplied, use the <code>buffer_dist</code> argument to
control how much area you want to capture around the layer.
While the input <code>sf</code> object can be in an arbitrary coordinate reference system,
if a length-4 bounding box vector is supplied instead it must represent
WGS84 longitude/latitude coordinates and be in the order
<code>c(xmin, ymin, xmax, ymax)</code>.</p></dd>


<dt id="arg-buffer-dist">buffer_dist<a class="anchor" aria-label="anchor" href="#arg-buffer-dist"></a></dt>
<dd><p>The distance to buffer around an input <code>sf</code> object for
determining static map, specified in units. If location is a POINT object
of 2 rows or less and <code>buffer_dist</code> is 0 or <code>NULL</code>, a 1 unit buffer is
applied to try to ensure the creation of a valid bounding box for the map
area.</p></dd>


<dt id="arg-units">units<a class="anchor" aria-label="anchor" href="#arg-units"></a></dt>
<dd><p>Units of <code>buffer_dist</code>; defaults to "m" (meters). If buffer_dist
is a units class object, the units argument is ignored.</p></dd>


<dt id="arg-style-id">style_id<a class="anchor" aria-label="anchor" href="#arg-style-id"></a></dt>
<dd><p>A style ID (required if style_url is <code>NULL</code>).</p></dd>


<dt id="arg-username">username<a class="anchor" aria-label="anchor" href="#arg-username"></a></dt>
<dd><p>A Mapbox username (required if <code>style_url = NULL</code>).</p></dd>


<dt id="arg-style-url">style_url<a class="anchor" aria-label="anchor" href="#arg-style-url"></a></dt>
<dd><p>A Mapbox style url; defaults to <code>NULL</code>.</p></dd>


<dt id="arg-overlay-sf">overlay_sf<a class="anchor" aria-label="anchor" href="#arg-overlay-sf"></a></dt>
<dd><p>The overlay <code>sf</code> object (optional). The function will
convert the <code>sf</code> object to GeoJSON then plot over the basemap style.
Spatial data that are too large will trigger an error, and should be added
to the style in Mapbox Studio instead.</p></dd>


<dt id="arg-overlay-style">overlay_style<a class="anchor" aria-label="anchor" href="#arg-overlay-style"></a></dt>
<dd><p>A named list of vectors specifying how to style the sf
overlay. Possible names are "stroke", "stroke-width" (or "stroke_width"),
"stroke-opacity" (or "stroke_opacity"), "fill", and "fill-opacity" (or
"fill_opacity"). The fill and stroke color values can be specified as
six-digit hex codes or color names, and the opacity and width values should
be supplied as floating-point numbers. If overlay_style is <code>NULL</code>, the
style values can be pulled from columns with the same names in
<code>overlay_sf</code>.</p></dd>


<dt id="arg-overlay-markers">overlay_markers<a class="anchor" aria-label="anchor" href="#arg-overlay-markers"></a></dt>
<dd><p>The prepared overlay markers (optional). See the
function <a href="prep_overlay_markers.html">prep_overlay_markers</a> for more information on how to specify a
marker overlay.</p></dd>


<dt id="arg-longitude-latitude">longitude, latitude<a class="anchor" aria-label="anchor" href="#arg-longitude-latitude"></a></dt>
<dd><p>The longitude and latitude of the map center. If an
overlay is supplied, the map will default to the extent of the overlay
unless longitude, latitude, and zoom are all specified.</p></dd>


<dt id="arg-zoom">zoom<a class="anchor" aria-label="anchor" href="#arg-zoom"></a></dt>
<dd><p>The map zoom. The map will infer this from the overlay unless
longitude, latitude, and zoom are all specified.</p></dd>


<dt id="arg-width-height">width, height<a class="anchor" aria-label="anchor" href="#arg-width-height"></a></dt>
<dd><p>The map width and height; defaults to <code>NULL</code></p></dd>


<dt id="arg-pitch-bearing">pitch, bearing<a class="anchor" aria-label="anchor" href="#arg-pitch-bearing"></a></dt>
<dd><p>The map pitch and bearing; defaults to <code>NULL</code>. pitch can
range from 0 to 60, and bearing from -360 to 360.</p></dd>


<dt id="arg-scale">scale<a class="anchor" aria-label="anchor" href="#arg-scale"></a></dt>
<dd><p>ratio to scale the output image; <code>scale = 1</code> will return the
largest possible image. defaults to 0.5</p></dd>


<dt id="arg-scaling-factor">scaling_factor<a class="anchor" aria-label="anchor" href="#arg-scaling-factor"></a></dt>
<dd><p>The scaling factor of the tiles; either <code>"1x"</code>
(the default) or <code>"2x"</code></p></dd>


<dt id="arg-attribution">attribution<a class="anchor" aria-label="anchor" href="#arg-attribution"></a></dt>
<dd><p>Controls whether there is attribution on the image.
Defaults to <code>TRUE</code>. If <code>FALSE</code>, the watermarked attribution is removed from
the image. You still have a legal responsibility to attribute maps that use
OpenStreetMap data, which includes most maps from Mapbox. If you specify
<code>attribution = FALSE</code>, you are legally required to include proper
attribution elsewhere on the webpage or document.</p></dd>


<dt id="arg-logo">logo<a class="anchor" aria-label="anchor" href="#arg-logo"></a></dt>
<dd><p>Controls whether there is a Mapbox logo on the image. Defaults to
<code>TRUE</code>.</p></dd>


<dt id="arg-before-layer">before_layer<a class="anchor" aria-label="anchor" href="#arg-before-layer"></a></dt>
<dd><p>A character string that specifies where in the hierarchy
of layer elements the overlay should be inserted. The overlay will be
placed just above the specified layer in the given Mapbox styles. List
layer ids for a map style with <code>get_style(style_id = style_id, username = username, style_url = style_url, access_token = access_token)[["layers"]][["id"]]</code></p></dd>


<dt id="arg-access-token">access_token<a class="anchor" aria-label="anchor" href="#arg-access-token"></a></dt>
<dd><p>A Mapbox access token; which can be set with
<a href="mb_access_token.html">mb_access_token</a>.</p></dd>


<dt id="arg-image">image<a class="anchor" aria-label="anchor" href="#arg-image"></a></dt>
<dd><p>If <code>FALSE</code>, return the a <a href="https://httr.r-lib.org/reference/response.html" class="external-link">httr::response</a> object from
<a href="https://httr.r-lib.org/reference/GET.html" class="external-link">httr::GET</a> using the static image URL; defaults to <code>TRUE</code>.</p></dd>


<dt id="arg-strip">strip<a class="anchor" aria-label="anchor" href="#arg-strip"></a></dt>
<dd><p>If <code>TRUE</code>, drop image comments and metadata when <code>image = TRUE</code>;
defaults to <code>TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A pointer to an image of class <code>"magick-image"</code> if <code>image = TRUE</code>.
The resulting image can be manipulated further with functions from the
magick package.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/walkerke/mapboxapi" class="external-link">mapboxapi</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">points_of_interest</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">73.99405</span>, <span class="op">-</span><span class="fl">74.00616</span>, <span class="op">-</span><span class="fl">73.99577</span>, <span class="op">-</span><span class="fl">74.00761</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">40.72033</span>, <span class="fl">40.72182</span>, <span class="fl">40.71590</span>, <span class="fl">40.71428</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">prepped_pois</span> <span class="op">&lt;-</span> <span class="fu"><a href="prep_overlay_markers.html">prep_overlay_markers</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">points_of_interest</span>,</span></span>
<span class="r-in"><span>  marker_type <span class="op">=</span> <span class="st">"pin-l"</span>,</span></span>
<span class="r-in"><span>  label <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>,</span></span>
<span class="r-in"><span>  color <span class="op">=</span> <span class="st">"fff"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">map</span> <span class="op">&lt;-</span> <span class="fu">static_mapbox</span><span class="op">(</span></span></span>
<span class="r-in"><span>  style_id <span class="op">=</span> <span class="st">"streets-v11"</span>,</span></span>
<span class="r-in"><span>  username <span class="op">=</span> <span class="st">"mapbox"</span>,</span></span>
<span class="r-in"><span>  overlay_markers <span class="op">=</span> <span class="va">prepped_pois</span>,</span></span>
<span class="r-in"><span>  width <span class="op">=</span> <span class="fl">1200</span>,</span></span>
<span class="r-in"><span>  height <span class="op">=</span> <span class="fl">800</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">map</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://walker-data.com" class="external-link">Kyle Walker</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.9000.</p>
</div>

    </footer></div>





  </body></html>

